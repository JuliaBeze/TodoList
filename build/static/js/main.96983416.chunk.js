(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,o){t.exports={todoList:"TodoList_todoList__3owF1 index_btn__2oI9s",deleteTodoList:"TodoList_deleteTodoList__1G8Qc",todoTitle:"TodoList_todoTitle___7EgN",addForm:"TodoList_addForm__35U87"}},16:function(t,e,o){t.exports={todoTitle:"TodoListTitle_todoTitle__3qnhT"}},17:function(t,e,o){t.exports={addNewForm:"AddNewItemForm_addNewForm__1ZziQ index_btn__2oI9s",newTaskForm:"AddNewItemForm_newTaskForm__3WNMz"}},29:function(t,e,o){t.exports={deleteTasks:"TodoListTask_deleteTasks__2kHQi index_btn__2oI9s"}},30:function(t,e,o){t.exports={todoListFooter:"Footer_todoListFooter__3NpI4"}},35:function(t,e,o){t.exports=o(63)},40:function(t,e,o){},63:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),i=o(12),r=o.n(i),s=(o(40),o(1)),c=o(13),d=o(3),l=o(2),u=o(4),p=(o(9),o(29)),f=o.n(p),T=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:o.props.task.title},o.onIsDoneChanged=function(t){o.props.changeStatus(o.props.task.id,t.currentTarget.checked)},o.onTitleChanged=function(t){o.setState({title:t.currentTarget.value})},o.activateEditMode=function(){o.setState({editMode:!0})},o.deactivateEditMode=function(){o.setState({editMode:!1}),o.props.changeTitle(o.props.task.id,o.state.title)},o.onDeleteTask=function(){o.props.deleteTask(o.props.task.id)},o.render=function(){var t=o.props.task.isDone?"todoList-task done":"todoList-task";return a.a.createElement("div",null,a.a.createElement("div",{className:t},a.a.createElement("input",{type:"checkbox",checked:o.props.task.isDone,onChange:o.onIsDoneChanged}),o.state.editMode?a.a.createElement("input",{onBlur:o.deactivateEditMode,onChange:o.onTitleChanged,autoFocus:!0,value:o.state.title}):a.a.createElement("span",{onClick:o.activateEditMode}," ",o.state.title),", priority: ",o.props.task.priority,a.a.createElement("button",{className:f.a.deleteTasks,onClick:o.onDeleteTask},"X")))},o}return Object(u.a)(e,t),e}(a.a.Component),m=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=o.props.tasks.map(function(t){return a.a.createElement(T,{key:t.id,deleteTask:o.props.deleteTask,toDoListId:o.props.toDoListId,task:t,changeStatus:o.props.changeStatus,changeTitle:o.props.changeTitle})});return a.a.createElement("div",{className:"todoList-tasks"},t)},o}return Object(u.a)(e,t),e}(a.a.Component),L=o(30),k=o.n(L),h=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},o.onAllFilterClick=function(){o.props.changeFilter("All")},o.onCompletedFilterClick=function(){o.props.changeFilter("Completed")},o.onActiveFilterClick=function(){o.props.changeFilter("Active")},o.onShowFiltersClick=function(){o.setState({isHidden:!0})},o.onHideFiltersClick=function(){o.setState({isHidden:!1})},o.render=function(){var t="All"===o.props.filterValue?"filter-active":"",e="Completed"===o.props.filterValue?"filter-active":"",n="Active"===o.props.filterValue?"filter-active":"";return a.a.createElement("div",{className:k.a.todoListFooter},!o.state.isHidden&&a.a.createElement("div",null,a.a.createElement("button",{onClick:o.onAllFilterClick,className:t},"All"),a.a.createElement("button",{onClick:o.onCompletedFilterClick,className:e},"Completed"),a.a.createElement("button",{onClick:o.onActiveFilterClick,className:n},"Active")),!o.state.isHidden&&a.a.createElement("span",{onClick:o.onShowFiltersClick},"Hide"),o.state.isHidden&&a.a.createElement("span",{onClick:o.onHideFiltersClick},"Show"))},o}return Object(u.a)(e,t),e}(a.a.Component),v=o(16),D=o.n(v),E=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,todoListTitle:o.props.title},o.onTodoListClick=function(){o.setState({editMode:!0})},o.onTodoTitleChange=function(t){o.setState({todoListTitle:t.currentTarget.value})},o.onUpdateTodoListTitle=function(){o.setState({editMode:!1}),o.props.updateTodoTitle(o.state.todoListTitle)},o.render=function(){return a.a.createElement("div",{className:D.a.todoTitle},o.state.editMode?a.a.createElement("input",{type:"text",value:o.state.todoListTitle,onChange:o.onTodoTitleChange,onBlur:o.onUpdateTodoListTitle}):a.a.createElement("h3",{className:D.a.todoList,onClick:o.onTodoListClick},o.state.todoListTitle))},o}return Object(u.a)(e,t),e}(a.a.Component),O=o(17),b=o.n(O),g=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},o.onAddItemClick=function(){var t=o.state.title;o.setState({title:""}),""===t?o.setState({error:!0}):(o.setState({error:!1}),o.props.addItem(t))},o.onTitleChanged=function(t){o.setState({error:!1,title:t.currentTarget.value})},o.onKeyPress=function(t){"Enter"===t.key&&o.onAddItemClick()},o.render=function(){var t=o.state.error?"error":"";return a.a.createElement("div",{className:b.a.newTaskForm},a.a.createElement("input",{className:t,type:"text",placeholder:"New item name",onChange:o.onTitleChanged,onKeyPress:o.onKeyPress,value:o.state.title}),a.a.createElement("button",{className:b.a.addNewForm,onClick:o.onAddItemClick},"Add"))},o}return Object(u.a)(e,t),e}(a.a.Component),C=o(10),S=o(14),j=o(32),w=o(7),y=o(33),A=o.n(y).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/todo-lists",withCredentials:!0,headers:{"API-KEY":"33b08604-f7c7-406c-9da3-f5d36527b14f"}}),I=function(t,e){return A.post("/".concat(e,"/tasks/"),{title:t})},_=function(t){return A.delete("/tasks/".concat(t))},F=function(t){return A.delete("/".concat(t))},N=function(t){return A.post("",{title:t})},M=function(){return A.get("")},R=function(t){return A.get("/".concat(t,"/tasks/"))},P=function(t){return A.put("/tasks",t)},H=function(t,e){return A.put("/".concat(e),{title:t})};function x(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function K(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?x(o,!0).forEach(function(e){Object(j.a)(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):x(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var V="TodoList/Reducer/ADD-TASK",U={toDoLists:[]},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/SET-TASKS":return K({},t,{toDoLists:t.toDoLists.map(function(t){return t.id===e.toDoListId?K({},t,{tasks:e.tasks}):t})});case"App/reducer/SET-TODOLIST":return K({},t,{toDoLists:e.toDoLists.map(function(t){return K({},t,{tasks:[]})})});case"App/reducer/ADD-TODOLIST":return K({},t,{toDoLists:[].concat(Object(S.a)(t.toDoLists),[e.newTodoList])});case V:return K({},t,{toDoLists:t.toDoLists.map(function(t){return t.id===e.todoListId?K({},t,{tasks:[e.newTask].concat(Object(S.a)(t.tasks))}):t})});case"TodoList/Reducer/CHANGE-TASK":return K({},t,{toDoLists:t.toDoLists.map(function(t){return t.id===e.todoListId?K({},t,{tasks:t.tasks.map(function(t){return t.id===e.newTask.id?e.newTask:t})}):t})});case"TodoList/Reducer/CHANGE-TODOLIST":return K({},t,{toDoLists:t.toDoLists.map(function(o){return o.id===e.todoListId?K({},o,{toDoLists:[].concat(Object(S.a)(t.toDoLists),[e.newTodoList])}):o})});case"TodoList/Reducer/UPDATE_TODOLIST_TITLE":return K({},t,{toDoLists:t.toDoLists.map(function(t){return t.id===e.todolistId?K({},t,{title:e.todolistId}):t})});case"TodoList/Reducer/ DELETE-TASK":return K({},t,{toDoLists:t.toDoLists.map(function(t){return t.id===e.toDoListId?K({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return K({},t,{toDoLists:t.toDoLists.filter(function(t){return t.id!==e.id})});default:return t}};Object(w.c)(B);var G=function(t,e){return function(o){I(t,e).then(function(t){var n=t.data.data.item;o(function(t,e){return{type:V,newTask:t,todoListId:e}}(n,e))})}},W=B,Q=o(11),z=o.n(Q),J=function(t){function e(t){var o;return Object(s.a)(this,e),(o=Object(d.a)(this,Object(l.a)(e).call(this,t))).restoreState=function(){o.props.setTasks(o.props.id)},o.state={tasks:[],filterValue:"All"},o.addTask=function(t){o.props.addTask(t,o.props.id)},o.deleteTask=function(t){o.props.deleteTask(o.props.id,t)},o.deleteToDoList=function(){o.props.deleteToDoList(o.props.id)},o.changeFilter=function(t){o.setState({filterValue:t})},o.updateTodoTitle=function(t){o.props.updateTodoTitle(t,o.props.id)},o.changeTask=function(t,e){o.props.changeTask(t,e,o.props.id)},o.changeStatus=function(t,e){o.changeTask(t,{isDone:e})},o.changeTitle=function(t,e){o.changeTask(t,{title:e})},o.render=function(){var t=o.props.tasks,e=void 0===t?[]:t;return a.a.createElement("div",{className:z.a.todoList},a.a.createElement("div",{className:z.a.todoTitle},a.a.createElement(E,{updateTodoTitle:o.updateTodoTitle,title:o.props.title,id:o.props.id})),a.a.createElement("button",{className:z.a.deleteTodoList,onClick:o.deleteToDoList},"X"),a.a.createElement("div",{className:z.a.addForm},a.a.createElement(g,{addItem:o.addTask})),a.a.createElement(m,{deleteTask:o.deleteTask,toDoListId:o.props.toDoListId,changeStatus:o.changeStatus,changeTitle:o.changeTitle,tasks:e.filter(function(t){return"All"===o.state.filterValue||("Active"===o.state.filterValue?!1===t.isDone:"Completed"===o.state.filterValue?!0===t.isDone:void 0)})}),a.a.createElement("div",{className:"footer"},a.a.createElement(h,{changeFilter:o.changeFilter,filterValue:o.state.filterValue})))},o.newTasksTitileRef=a.a.createRef(),o}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(a.a.Component),X=Object(C.b)(null,function(t){return{addTask:function(e,o){t(G(e,o))},changeTask:function(e,o,n){t(function(t,e,o){return function(n,a){a().toDoLists.find(function(t){return t.id===o}).tasks.forEach(function(a){if(a.id===t){var i=K({},a,{},e);P(i).then(function(t){n(function(t,e){return{type:"TodoList/Reducer/CHANGE-TASK",newTask:t,todoListId:e}}(t.data.data.item,o))})}})}}(e,o,n))},deleteTask:function(e,o){t(function(t,e){return function(o){_(e).then(o(function(t,e){return{type:"TodoList/Reducer/ DELETE-TASK",toDoListId:t,taskId:e}}(t,e)))}}(e,o))},deleteToDoList:function(e){var o;t((o=e,function(t){F(o).then(function(e){t({type:"TodoList/Reducer/DELETE-TODOLIST",id:o})})}))},setTasks:function(e){var o=function(t){return function(e){R(t).then(function(o){e({type:"TodoList/Reducer/SET-TASKS",tasks:o.data.items,toDoListId:t})})}}(e);t(o)},updateTodoTitle:function(e,o){t(function(t,e){return function(o){H(t,e).then(function(e){o(function(t){return{type:"TodoList/Reducer/UPDATE_TODOLIST_TITLE",todolistId:t}}(t))})}}(e,o))}}})(J),q=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).state={toDoLists:[]},o.addTodoList=function(t){o.props.addTodoList(t)},o.restoreState=function(){o.props.setTodoList()},o.render=function(){var t=o.props.toDoLists.map(function(t){return a.a.createElement(X,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})});return a.a.createElement("div",{className:"page"},a.a.createElement("div",{className:"main"},a.a.createElement("div",{className:"description"},a.a.createElement("h1",null,"Welcome to my ToDoList applications"),a.a.createElement(g,{addItem:o.addTodoList}))),a.a.createElement("div",{className:"App"},t))},o}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(a.a.Component),Y=Object(C.b)(function(t){return{toDoLists:t.toDoLists}},function(t){return{addTodoList:function(e){var o;t((o=e,function(t){N(o).then(function(e){var o=e.data.data.item;t({type:"App/reducer/ADD-TODOLIST",newTodoList:o})})}))},setTodoList:function(e){t(function(t){M().then(function(e){t(function(t){return{type:"App/reducer/SET-TODOLIST",toDoLists:t}}(e.data))})})}}})(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=o(34),$=Object(w.c)(W,Object(w.a)(Z.a));r.a.render(a.a.createElement(C.a,{store:$},a.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,o){}},[[35,1,2]]]);
//# sourceMappingURL=main.96983416.chunk.js.map